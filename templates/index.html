<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ML Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            background-color: #1e1e1e;
            color: #f0f0f0;
            font-family: Arial, sans-serif;
            text-align: center;
        }

        h1, h2 {
        text-align: center;
        }

        .plot-container {
            margin: 20px auto;
            width: 90%;
        }
        .scroll-container {
            width: 90%;
            height: 75vh; 
            margin: 20px auto;
            
            display: flex; 


            overflow-x: scroll;
            overflow-y: hidden;

            scroll-snap-type: x mandatory; 
            
            border: 1px solid #444;
            border-radius: 8px;
        }

        .scroll-plot {

            flex: 0 0 100%; 
            
            height: 100%;
            scroll-snap-align: start;
        }
    </style>
</head>
<body>

    <h1>Pima Indians diabetes dataset ML dashboard</h1>
    <p style="max-width: 600px; margin: auto; text-align: left;">
    This dashboard explores the <strong>Pima Indians Diabetes dataset</strong>, a publicly available dataset used to predict the onset of diabetes in patients based on medical measurements. 
    It includes features such as Glucose concentration, Body Mass Index (BMI), Blood Pressure, and Age, with a binary target indicating whether the patient has diabetes (1) or not (0). 
    The following sections provide visualizations to understand feature distributions and relationships, model performance metrics, confusion matrices, and feature importance for multiple classification models such as Logistic Regression, XGBoost, and a Neural Network.
    </p>
    <br>

    <h2>Exploratory Data Analysis</h2>
    <p class="scroll-hint">← Scroll horizontally to view all plots →</p>
    <div class="scroll-container">
        <div class="scroll-plot" id="eda_scatter"></div>
        <div class="scroll-plot" id="eda_hist"></div>
        <div class="scroll-plot" id="eda_corr"></div>
        <div class="scroll-plot" id="eda_box"></div>
    </div>
    <br>

    <h1>Model Performance</h1>
    <br>
    <h2>Common Statistical Metrics</h2>
    <div class="plot-container" id="metrics_bar"></div>
    <br>

    <h2>Confusion Matrices</h2>
    <p class="scroll-hint">← Scroll horizontally to view all plots →</p>
    <div class="scroll-container">
        <div class="scroll-plot" id="cm_logreg"></div>
        <div class="scroll-plot" id="cm_xgb"></div>
        <div class="scroll-plot" id="cm_mlp"></div>
    </div>
    <br>

    <h2>Feature Importances</h2>
    <div class="plot-container" id="fi_lr"></div>
    <div class="plot-container" id="fi_xgb"></div>

    <script>
        function renderPlot(divId, plotJson) {
            Plotly.newPlot(divId, plotJson.data, plotJson.layout, {responsive: true});
        }

        renderPlot('eda_scatter', {{ eda_scatter | tojson }});
        renderPlot('eda_hist', {{ eda_hist | tojson }});
        renderPlot('eda_corr', {{ eda_corr | tojson }});
        renderPlot('eda_box', {{ eda_box | tojson }});

        renderPlot('metrics_bar', {{ metrics_bar | tojson }});

        renderPlot('cm_logreg', {{ cm_logreg | tojson }});
        renderPlot('cm_xgb', {{ cm_xgb | tojson }});
        renderPlot('cm_mlp', {{ cm_mlp | tojson }});

        renderPlot('fi_lr', {{ fi_lr | tojson }});
        renderPlot('fi_xgb', {{ fi_xgb | tojson }});
    </script>

</body>
</html>